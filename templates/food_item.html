<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>
    {{ item_name }} Price Comparison in {{ city|capitalize }} | Across the Tags
  </title>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta
    name="description"
    content="Compare {{ item_name }} prices across multiple platforms in {{ city|capitalize }}."
  >

  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  >

  <style>
    body {
      background: linear-gradient(135deg, #e0f7fa, #ffffff);
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    }

    .item-title {
      text-align: center;
      font-size: 28px;
      font-weight: 700;
      color: #2563eb;
      margin: 30px 0;
    }

    .compare-card {
      background: #fff;
      border-radius: 14px;
      padding: 18px;
      margin-bottom: 15px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.08);
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
    }

    .platform {
      font-weight: 600;
    }

    .price {
      font-size: 20px;
      font-weight: 700;
      color: #16a34a;
      white-space: nowrap;
    }

    .price.na {
      color: #6c757d;
      font-weight: 600;
    }

    @media (max-width: 576px) {
      .compare-card {
        flex-direction: column;
        align-items: flex-start;
      }
    }
  </style>
</head>

<body>

<div class="container py-3">

  <!-- Back -->
  <a
    href="/food/{{ brand }}"
    class="btn btn-link mb-3"
    aria-label="Back to brand menu"
  >
    ← Back to Menu
  </a>

  <!-- CITY SELECTION -->
  <form method="get" class="text-center mb-4">

    <!-- Preserve context -->
    <input type="hidden" name="brand" value="{{ brand }}">
    <input type="hidden" name="item" value="{{ item_name }}">

    <label
      for="city"
      id="city-label"
      class="me-2 fw-semibold"
    >
      Select City:
    </label>

    <select
      id="city"
      name="city"
      aria-labelledby="city-label"
      class="form-select d-inline-block w-auto"
    >
      <option value="bangalore" {% if city == 'bangalore' %}selected{% endif %}>
        Bangalore
      </option>
      <option value="mumbai" {% if city == 'mumbai' %}selected{% endif %}>
        Mumbai
      </option>
      <option value="delhi" {% if city == 'delhi' %}selected{% endif %}>
        Delhi
      </option>
    </select>

    <button class="btn btn-outline-primary btn-sm ms-2">
      Update
    </button>
  </form>

  <!-- ITEM TITLE -->
  <div class="item-title">{{ item_name }}</div>

  <!-- OFFICIAL -->
  <div class="compare-card">
    <div class="platform">Official Site</div>

    {% if prices.official %}
      <div class="price">₹{{ prices.official }}</div>
    {% else %}
      <div class="price na">N/A</div>
    {% endif %}

    {% if buy_links.official %}
      <a
        href="{{ buy_links.official }}"
        target="_blank"
        rel="noopener noreferrer"
        class="btn btn-success btn-sm"
      >
        Buy
      </a>
    {% else %}
      <button class="btn btn-secondary btn-sm" disabled aria-disabled="true">
        Unavailable
      </button>
    {% endif %}
  </div>

  <!-- SWIGGY -->
  <div class="compare-card">
    <div class="platform">Swiggy</div>

    {% if prices.swiggy %}
      <div class="price">₹{{ prices.swiggy }}</div>
    {% else %}
      <div class="price na">N/A</div>
    {% endif %}

    {% if buy_links.swiggy %}
      <a
        href="{{ buy_links.swiggy }}"
        target="_blank"
        rel="noopener noreferrer"
        class="btn btn-warning btn-sm"
      >
        Buy
      </a>
    {% else %}
      <button class="btn btn-secondary btn-sm" disabled aria-disabled="true">
        Unavailable
      </button>
    {% endif %}
  </div>

  <!-- ZOMATO -->
  <div class="compare-card">
    <div class="platform">Zomato</div>

    {% if prices.zomato %}
      <div class="price">₹{{ prices.zomato }}</div>
    {% else %}
      <div class="price na">N/A</div>
    {% endif %}

    {% if buy_links.zomato %}
      <a
        href="{{ buy_links.zomato }}"
        target="_blank"
        rel="noopener noreferrer"
        class="btn btn-danger btn-sm"
      >
        Buy
      </a>
    {% else %}
      <button class="btn btn-secondary btn-sm" disabled aria-disabled="true">
        Unavailable
      </button>
    {% endif %}
  </div>

  <p class="text-center mt-3 text-muted">
    Prices may vary by location. Availability depends on platform coverage.
  </p>

</div>

</body>
</html>